[{"D:\\React\\ro_draw\\src\\index.js":"1","D:\\React\\ro_draw\\src\\App.js":"2","D:\\React\\ro_draw\\src\\reportWebVitals.js":"3","D:\\React\\ro_draw\\src\\components\\Layout\\Header.js":"4","D:\\React\\ro_draw\\src\\components\\Draw_Item\\Draw.js":"5"},{"size":535,"mtime":1658828393843,"results":"6","hashOfConfig":"7"},{"size":583,"mtime":1658934110416,"results":"8","hashOfConfig":"7"},{"size":362,"mtime":1658828393916,"results":"9","hashOfConfig":"7"},{"size":146,"mtime":1658828679652,"results":"10","hashOfConfig":"7"},{"size":1571,"mtime":1658843463228,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","suppressedMessages":"14","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1vi2ump",{"filePath":"15","messages":"16","suppressedMessages":"17","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"18"},{"filePath":"19","messages":"20","suppressedMessages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","suppressedMessages":"24","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"25","messages":"26","suppressedMessages":"27","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28"},"D:\\React\\ro_draw\\src\\index.js",[],[],"D:\\React\\ro_draw\\src\\App.js",["29","30"],[],"import Header from \"./components/Layout/Header\";\nimport React, { useState, Fragment } from \"react\";\nimport Draw from \"./components/Draw_Item/Draw\";\n\nfunction App() {\n  fetch(\"https://ro.gnjoy.com.tw/notice/notice_view.aspx?id=175415\", {\n    method: \"GET\",\n    // mode: \"no-cors\",\n    // headers: \"Content-Type: text/html ;charset=utf-8\",\n  })\n    .then((response) => {\n      console.log(response);\n    })\n    .catch((error) => {\n      console.log(`${error}`);\n    });\n\n  return (\n    <React.Fragment>\n      <Header />\n      <Draw />\n    </React.Fragment>\n  );\n}\n\nexport default App;\n","D:\\React\\ro_draw\\src\\reportWebVitals.js",[],[],"D:\\React\\ro_draw\\src\\components\\Layout\\Header.js",[],[],"D:\\React\\ro_draw\\src\\components\\Draw_Item\\Draw.js",["31"],[],"import React, { useState, Fragment } from \"react\";\r\n\r\nconst dummyData = [\r\n  {\r\n    id: 1,\r\n    name: \"銘謝惠顧\",\r\n    percent: 80,\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"A 恭喜\",\r\n    percent: 15,\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"AAAAA 恭喜\",\r\n    percent: 5,\r\n  },\r\n];\r\n\r\nconst Draw = () => {\r\n  const [isClick, setIsClick] = useState(false);\r\n  const [prize, setPrize] = useState(\"\");\r\n  const getRandomNumber = () => {\r\n    let sortPrizes = dummyData.sort((a, b) => a.percent - b.percent);\r\n    console.log(sortPrizes);\r\n    let weightArray = sortPrizes.map((_, index) => {\r\n      //利用 .map 做一個計數累加\r\n      let count = 0;\r\n      for (let i = 0; i <= index; i++) {\r\n        count += sortPrizes[i].percent;\r\n      }\r\n      return count;\r\n    });\r\n    console.log(\"weightArray: \", weightArray);\r\n    let random = Math.random() * weightArray[weightArray.length - 1];\r\n    let index;\r\n    for (let i = 0; i <= weightArray.length; i++) {\r\n      if (weightArray[i] >= random) {\r\n        index = i;\r\n        break;\r\n      }\r\n    }\r\n    console.log(\"random: \", random);\r\n    console.log(\"index: \", index);\r\n    return sortPrizes[index].name;\r\n  };\r\n\r\n  const buttonClick = () => {\r\n    setIsClick(true);\r\n    setPrize(getRandomNumber());\r\n  };\r\n\r\n  const resetButton = () => {\r\n    setIsClick(false);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <button onClick={buttonClick}> 點我抽獎! </button>\r\n      <button onClick={resetButton}> Reset !</button>\r\n      {isClick && <p>{prize}</p>}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Draw;\r\n",{"ruleId":"32","severity":1,"message":"33","line":2,"column":17,"nodeType":"34","messageId":"35","endLine":2,"endColumn":25},{"ruleId":"32","severity":1,"message":"36","line":2,"column":27,"nodeType":"34","messageId":"35","endLine":2,"endColumn":35},{"ruleId":"32","severity":1,"message":"36","line":1,"column":27,"nodeType":"34","messageId":"35","endLine":1,"endColumn":35},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'Fragment' is defined but never used."]